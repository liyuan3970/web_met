tinymce.PluginManager.add('longmet', function (editor, url) {


  
  // 注册一个工具栏按钮名称
  editor.ui.registry.addButton('longmet', {
    text: '十天',
    onAction: function () {
      var csrf = $('input[name="csrfmiddlewaretoken"]').val();
      $.ajax({
        url: "tinymce/longmet",
        type: "post",
        timeout: 2500,
        data: {
          'csrfmiddlewaretoken':csrf
        },
        dataType: "json",
        success: function (response) {
          console.log(response)
          editor.insertContent(response.data);
          
        }
      });
      
      //openDialog();
    }
  });



});

// '''<p class="MsoNormal" style="text-align: left;"><span style="font-size: 20px; font-family: 宋体;">台州市主城区具体天气预报如下：</span></p>
// <table style="border-collapse: collapse; width: 100.433%; height: 235.438px; border-width: 1px; border-style: none;" border="1"><colgroup><col style="width: 19.0939%;"><col style="width: 67.3133%;"><col style="width: 13.5928%;"></colgroup>
// <tbody>
// <tr style="height: 33.625px; text-align: left;">
//   <td style="height: 33.625px; border-width: 1px; text-align: left;" colspan="2"><span style="font-family: 宋体;">3日（周一）：晴到多云</span></td>
//   <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">5～16度；</span></td>
// </tr>
// <tr style="height: 33.625px; text-align: left;">
// <td style="height: 33.625px; border-width: 1px;" colspan="2"><span style="font-family: 宋体;">4日（周二）：晴转多云 </span></td>
// <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">6～16度；</span></td>
// </tr>
// <tr style="height: 33.625px;">
// <td style="height: 33.625px; border-width: 1px; text-align: left;" colspan="2"><span style="font-family: 宋体;">5日（周三）：多云到阴，下午转阴有时有小雨防守打法阿斯蒂芬阿斯蒂芬阿</span></td>
// <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">10～19度；</span></td>
// </tr>
// <tr style="height: 33.625px;">
// <td style="height: 33.625px; border-width: 1px;" colspan="2"><span style="font-family: 宋体;">6日（周四）：阴局部小雨</span></td>
// <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">9～13度；</span></td>
// </tr>
// <tr style="height: 33.625px;">
// <td style="height: 33.625px; border-width: 1px;" colspan="2"><span style="font-family: 宋体;">7日（周五）：阴局部小雨 &nbsp;&nbsp;</span></td>
// <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">8～11度；</span></td>
// </tr>
// <tr style="height: 33.625px;">
// <td style="height: 33.625px; border-width: 1px;" colspan="2"><span style="font-family: 宋体;">8日（周六）：多云到阴局部小雨</span></td>
// <td style="height: 33.625px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">7～12度；</span></td>
// </tr>
// <tr style="height: 33.6875px;">
// <td style="height: 33.6875px; border-width: 1px;" colspan="2"><span style="font-family: 宋体;">9日（周日）：多云</span></td>
// <td style="height: 33.6875px; border-width: 1px; text-align: right;"><span style="font-family: 宋体;">7～13度。</span></td>
// </tr>

// </tbody>
// </table>
// <p class="MsoNormal">&nbsp;</p>'''


